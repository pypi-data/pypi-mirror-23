Metadata-Version: 2.0
Name: ninjadog
Version: 0.4.0
Summary: Pug template support in Python
Home-page: https://github.com/knowsuchagency/ninjadog
Author: Stephan Fitzpatrick
Author-email: knowsuchagency@gmail.com
License: MIT license
Keywords: ninjadog pug jinja2 html templating
Platform: UNKNOWN
Classifier: Development Status :: 4 - Beta
Classifier: License :: OSI Approved :: MIT License
Classifier: Natural Language :: English
Classifier: Programming Language :: Python :: 3.5
Classifier: Programming Language :: Python :: 3.6
Requires-Dist: Jinja2 (==2.9.6)
Requires-Dist: MarkupSafe (==1.0)
Requires-Dist: PasteDeploy (==1.5.2)
Requires-Dist: WebOb (==1.7.2)
Requires-Dist: docopt (==0.6.2)
Requires-Dist: hupper (==1.0)
Requires-Dist: pyramid (==1.9)
Requires-Dist: pyramid-jinja2 (==2.7)
Requires-Dist: repoze.lru (==0.6)
Requires-Dist: translationstring (==1.3)
Requires-Dist: venusian (==1.1.0)
Requires-Dist: zope.deprecation (==4.2.0)
Requires-Dist: zope.interface (==4.4.2)
Provides-Extra: dev
Requires-Dist: PyYAML (==3.12); extra == 'dev'
Requires-Dist: Sphinx (==1.6.2); extra == 'dev'
Requires-Dist: bumpversion (==0.5.3); extra == 'dev'
Requires-Dist: coverage (==4.4.1); extra == 'dev'
Requires-Dist: cryptography (==1.9); extra == 'dev'
Requires-Dist: fabric3 (==1.13.1.post1); extra == 'dev'
Requires-Dist: flake8 (==3.3.0); extra == 'dev'
Requires-Dist: mypy (==0.511); extra == 'dev'
Requires-Dist: py (==1.4.34); extra == 'dev'
Requires-Dist: pytest (==3.1.2); extra == 'dev'
Requires-Dist: pytest-runner (==2.11.1); extra == 'dev'
Requires-Dist: recommonmark (==0.4.0); extra == 'dev'
Requires-Dist: sphinx-autodoc-typehints (==1.2.0); extra == 'dev'
Requires-Dist: tox (==2.7.0); extra == 'dev'
Requires-Dist: tox-pyenv (==1.0.3); extra == 'dev'
Requires-Dist: watchdog (==0.8.3); extra == 'dev'
Requires-Dist: wheel (==0.29.0); extra == 'dev'
Provides-Extra: testing
Requires-Dist: WebTest; extra == 'testing'
Requires-Dist: pytest; extra == 'testing'

========
ninjadog
========


.. image:: https://img.shields.io/pypi/v/ninjadog.svg
        :target: https://pypi.org/project/ninjadog/

.. image:: https://img.shields.io/travis/knowsuchagency/ninjadog.svg
        :target: https://travis-ci.org/knowsuchagency/ninjadog

.. image:: https://pyup.io/repos/github/knowsuchagency/ninjadog/shield.svg
     :target: https://pyup.io/repos/github/knowsuchagency/ninjadog/
     :alt: Updates


`Pug`_ template (formerly `jade`_) support in Python


* Free software: MIT license
* Documentation: http://journalpanic.com/ninjadog
* GitHub: https://github.com/knowsuchagency/ninjadog



Installation
------------

ninjadog requires Python 3, node-js, npm, and the `pug-cli`_ library

::

    brew install npm
    npm install -g pug-cli
    pip install ninjadog


For use with `Pyramid`_, just add it to the configuration

.. code-block:: python

    config.include('ninjadog')


Usage
-----

ninjadog leverages the `pug-cli`_ library, written in nodejs, to render
`pug`_ templates in Python.

It allows you to take something like this

.. code-block:: pug

    html
        head
            title my pug template
        body
            #content
                h1 Hello #{name}
                .block
                    input#bar.foo1.foo2
                    input(type="text", placeholder="your name")
                    if name == "Bob"
                        h2 Hello Bob
                    ul
                        for book in books
                            li= book
                        else
                            li sorry, no books


and sprinkle some Python over it

.. code-block:: python

    from ninjadog import render

    context = {
        'name': 'Bob',
        'books': ['coloring book', 'audio book', "O'Reilly book"],
        'type': 'text',
    }

    print(render(file=filepath, context=context, pretty=True))

to render this

.. code-block:: html

    <!DOCTYPE html>
    <html>
      <head>
        <title>my pug template</title>
      </head>
      <body>
        <div id="content">
          <h1>Hello Bob</h1>
          <div class="block">
            <input class="foo1 foo2" id="bar">
            <input type="text" placeholder="your name">
            <h2>Hello Bob</h2>
            <ul>
              <li>coloring book</li>
              <li>audio book</li>
              <li>O'Reilly book</li>
            </ul>
          </div>
        </div>
      </body>
    </html>


You can even combine `jinja2`_ syntax for unparalleled
template-rendering power.

.. code-block:: python


    from ninjadog import render


    def stop_believing():
        return False


    context = {
        'stop_believing': stop_believing,
        'happy': {
            'birthday': 'today',
        }
    }

    template_string = """
    h1 hello, world
    if happy.birthday == 'today'
        p it's time to celebrate!
        p {{ "Don't" if not stop_believing() }} stop believing
    """

    print(render(template_string,
                 context=context,
                 pretty=True,
                 with_jinja=True))



.. code-block:: html

    <h1>hello, world</h1>
    <p>it's time to celebrate!</p>
    <p>Don't stop believing</p>


Why?
----

`Pug`_ templates are a super elegant and expressive way to write
html, IMO.

There exists a project, `pyjade`_ and a less-popular fork, `pypugjs`_,
that are pure-python implementations of the pug template engine,
but they have some bugs and the maintenance is a bit lacking.

It made more sense to me to use the existing nodejs implementation,
and find a way to have it play nicely with Python.

ninjadog does this by spawning the `pug cli`_ as a subprocess.
This means that it can't be as fast as a native template engine
like `pyjade`_, but it will be more reliable as it's leveraging
the popular and well-maintained nodejs implementation.


.. _pug: https://pugjs.org/api/getting-started.html
.. _jade: https://naltatis.github.io/jade-syntax-docs/
.. _pyjade: https://github.com/syrusakbary/pyjade
.. _pypugjs: https://github.com/matannoam/pypugjs
.. _pug-cli: https://www.npmjs.com/package/pug-cli
.. _pug cli: https://www.npmjs.com/package/pug-cli
.. _jinja2: http://jinja.pocoo.org/
.. _jinja 2: http://jinja.pocoo.org/
.. _pyramid: https://trypyramid.com/


