========
csvdiff
========

Synopsis
========

csvpatch [-i PATCH.json] [-o OUTPUT.csv] [--no-strict] INPUT.csv

Description
===========

The **csvpatch** command applies a patch generated by **csvdiff** to a given CSV file. By default the patch is read from stdin, and the transformed CSV file is printed to stdout.

The options are as follows:

-i PATCH  --input=PATCH
                Read in the JSON patch from the file PATCH.
-o OUTPUT --output=OUTPUT
                Write the transformed CSV data to the file OUTPUT.
--strict/--no-strict
                In strict mode (the default), the input data must match the data used when originally generating the diff. In non-strict mode, the patch will be attempted even if the data has changed.

Example
=======

For example, suppose we have ``a.csv``::

    id,name,amount
    1,bob,20
    2,eva,63
    3,sarah,7

and a JSON patch generated by **csvdiff** ``diff.json``::

    {
      "_index": ["id"],
      "added": [
        {
          "amount": "81",
          "id": "5",
          "name": "mira"
        }
      ]
    }

Then we can apply the patch by running::

    $ csvpatch -i diff.json a.csv
    id,name,amount
    1,bob,20
    2,eva,63
    3,sarah,7
    5,mira,81

The transformed CSV is output to stdout.

Exit status
===========

The **csvpatch** command exits 0 when no errors occur, >0 on error.

Bugs
====

The full source is available at https://github.com/larsyencken/csvdiff

Please report bugs to https://github.com/larsyencken/csvdiff/issues

See also
========

Check the manpage for **csvdiff (1)** to look at generating diffs.
