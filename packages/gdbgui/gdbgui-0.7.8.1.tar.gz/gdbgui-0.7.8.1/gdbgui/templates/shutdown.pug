//- this page makes an ajax request to tell the server to shutdown, and tells the user that
//- also display any other info/links/ads the user might find useful

html
head
    title gdbgui - gdb in a browser
    base(target='_blank')

    //- css
    link(href='static/vendor/css/bootstrap.min.css', rel='stylesheet')

    //- javascript
    script(type="text/javascript" src='static/vendor/js/jquery.min.js')

style.
    body{
        background-color: white;
        text-align: center
    }
    .square {
        height: 200px;
        width: 200px;
        display: inline-block;
        margin: 10px;
        transition: background-color .4s;
        font-size: 1.1em;
        padding: 20px;
        border-style: solid;
        border-color: #ccc;
        border-width: 1px;
        background-color: white;
        vertical-align: top;
        border-radius: 10px;
    }

    .square:hover {
        background-color: #dff7ff;
    }
    a:hover{
        text-decoration: none;
    }

body

    div.container-fluid
        p
        //- immediately make the ajax call to shut the gdbgui server down
        if debug == 'false'
            //- do the actual shutdown
            h3 gdbgui has been shut down
            script.
                (function(){
                    $.ajax({
                        url: "/_shutdown",
                        cache: false,
                        method: 'GET',
                        success: null,
                        error: null,
                    })
                })()


            //- show amazon ad
            div.row
                h4 support gdbgui development by shopping at amazon
                .alignleft
                    script(type='text/javascript').
                        amzn_assoc_ad_type = "banner";
                        amzn_assoc_marketplace = "amazon";
                        amzn_assoc_region = "US";
                        amzn_assoc_placement = "assoc_banner_placement_default";
                        amzn_assoc_campaigns = "computers_accesories";
                        amzn_assoc_banner_type = "category";
                        amzn_assoc_p = "48";
                        amzn_assoc_isresponsive = "false";
                        amzn_assoc_banner_id = "051KGKF9H8CVY30HJT82";
                        amzn_assoc_width = "728";
                        amzn_assoc_height = "90";
                        amzn_assoc_tracking_id = "grassfedcode04-20";
                        amzn_assoc_linkid = "7e5686d67a0ec35d2de0e094a4c76100";
                    script(src='//z-na.amazon-adsystem.com/widgets/q?ServiceVersion=20070822&Operation=GetScript&ID=OneJS&WS=1')
        else
            h3 debug mode is on, gdbgui has not been shut down (press ctrl+c in terminal to shutdown)


        div.row
            a.square(target='_blank', href='https://www.amazon.com/?&_encoding=UTF8&tag=grassfedcode04-20&linkCode=ur2&linkId=cf83012beef419a13f6df4b5c36bc446&camp=1789&creative=9325')
                img(src='/static/images/amazon.jpg', width='50px;')
                p
                span shop at amazon to support gdbgui

            a.square(href='https://github.com/cs01/gdbgui')
                    img(src='/static/images/github.jpg', height='50px;')
                    span gdbgui on github


            a.square(href='https://twitter.com/intent/tweet?text=check+out+%23gdbgui%2C+a+modern+browser-based+frontend+to+gdb+https%3A%2F%2Fgithub.com%2Fcs01%2Fgdbgui')
                img(src='/static/images/twitter.png')
                span share on twitter

            a.square(href='http://grassfedcode.com') a grassfedcode project
